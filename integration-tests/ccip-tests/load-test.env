# This file is used to set the environment variables for the ccip load test.

export DATABASE_URL="postgresql://postgres:node@localhost:5432/chainlink_test?sslmode=disable"

export SELECTED_NETWORKS="SIMULATED,SIMULATED_1,SIMULATED_2"
export CCIP_DEPLOY_ON_LOCAL=False
export CCIP_TESTS_ON_EXISTING_DEPLOYMENT=False
export CCIP_NETWORK_PAIRS=""
export CCIP_NO_OF_NETWORKS=10
export CCIP_NO_OF_LANES_PER_PAIR=2
# The load will be triggered as <CCIP_LOAD_TEST_RATE> per <CCIP_LOAD_TEST_RATEUNIT>
# for <CCIP_TEST_DURATION>. Example for following: 1 request per 1s for 1h
export CCIP_LOAD_TEST_RATEUNIT=1s
export CCIP_LOAD_TEST_RATE=1
export CCIP_TEST_DURATION=1h

# if CCIP_KEEP_ENV_ALIVE is set to true, the env will not be destroyed after the test.
export CCIP_KEEP_ENV_ALIVE=True

# if CCIP_CHAINLINK_NODE_FUNDING is set, chainlink nodes will be funded with the mentioned amount in native.
export CCIP_CHAINLINK_NODE_FUNDING=1000

# if CCIP_KEEP_ENV_TTL is set, the env will be destroyed after the mentioned duration.
export CCIP_KEEP_ENV_TTL=24h

# Msg type to use for the load test. Default value is WithToken unless specified.
# Values to choose from WithToken,WithoutToken
export CCIP_MSG_TYPE=WithoutToken
export RR_MEM=16Gi
export RR_CPU=4
export DETACH_RUNNER=true
export TEST_SUITE=load
export TEST_ARGS="-test.timeout 900h"